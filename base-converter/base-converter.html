<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÈÄ≤Êï∞Â§âÊèõ„ÉÑ„Éº„É´Ôºà2/8/10/16ÈÄ≤Êï∞Ôºâ - Pokoro Tools</title>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Q3F3DJ865S"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-Q3F3DJ865S');
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
        }
    </script>
    <script src="/related-tools-config.js"></script>
    <script src="/RelatedTools.js"></script>
</head>
<body class="bg-gray-50 dark:bg-gray-900">
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;
        
        const BaseConverter = () => {
            const [inputValue, setInputValue] = useState('');
            const [selectedBase, setSelectedBase] = useState(10);
            const [error, setError] = useState('');
            const [copyMessage, setCopyMessage] = useState('');
            const [history, setHistory] = useState([]);

            // Âü∫Êï∞ÂÆöÁæ©
            const bases = [
                { value: 2, name: 'Binary', label: '2ÈÄ≤Êï∞', regex: /^[01]+$/ },
                { value: 8, name: 'Octal', label: '8ÈÄ≤Êï∞', regex: /^[0-7]+$/ },
                { value: 10, name: 'Decimal', label: '10ÈÄ≤Êï∞', regex: /^[0-9]+$/ },
                { value: 16, name: 'Hex', label: '16ÈÄ≤Êï∞', regex: /^[0-9a-fA-F]+$/ }
            ];

            // Â±•Ê≠¥„Çí„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Åã„ÇâË™≠„ÅøËæº„Åø
            useEffect(() => {
                const savedHistory = localStorage.getItem('baseConverterHistory');
                if (savedHistory) {
                    try {
                        setHistory(JSON.parse(savedHistory));
                    } catch (e) {
                        setHistory([]);
                    }
                }
            }, []);

            // „Éê„É™„Éá„Éº„Ç∑„Éß„É≥
            const validateInput = (value, base) => {
                if (!value.trim()) return true; // Á©∫ÊñáÂ≠ó„ÅØÊúâÂäπ
                const baseInfo = bases.find(b => b.value === base);
                return baseInfo ? baseInfo.regex.test(value) : false;
            };

            // Â§âÊèõÂá¶ÁêÜ
            const convertedValues = useMemo(() => {
                if (!inputValue.trim() || error) {
                    return bases.map(base => ({
                        ...base,
                        convertedValue: ''
                    }));
                }

                try {
                    // ÂÖ•ÂäõÂÄ§„Çí10ÈÄ≤Êï∞„Å´Â§âÊèõ
                    const decimalValue = parseInt(inputValue, selectedBase);
                    
                    if (isNaN(decimalValue) || decimalValue < 0) {
                        return bases.map(base => ({
                            ...base,
                            convertedValue: ''
                        }));
                    }

                    return bases.map(base => ({
                        ...base,
                        convertedValue: base.value === selectedBase ? inputValue : decimalValue.toString(base.value).toUpperCase()
                    }));
                } catch (err) {
                    return bases.map(base => ({
                        ...base,
                        convertedValue: ''
                    }));
                }
            }, [inputValue, selectedBase, error]);

            // ÂÖ•ÂäõÂ§âÊõ¥Âá¶ÁêÜ
            const handleInputChange = (e) => {
                const value = e.target.value;
                
                if (!validateInput(value, selectedBase)) {
                    setError('ÁÑ°Âäπ„Å™ÂÖ•Âäõ„Åß„Åô');
                } else {
                    setError('');
                }
                
                setInputValue(value);
            };

            // Âü∫Êï∞Â§âÊõ¥Âá¶ÁêÜ
            const handleBaseChange = (e) => {
                const newBase = parseInt(e.target.value);
                setSelectedBase(newBase);
                
                // ÁèæÂú®„ÅÆÂÖ•ÂäõÂÄ§„ÅåÊñ∞„Åó„ÅÑÂü∫Êï∞„ÅßÊúâÂäπ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
                if (inputValue && !validateInput(inputValue, newBase)) {
                    setError('ÁèæÂú®„ÅÆÂÖ•ÂäõÂÄ§„ÅØÈÅ∏Êäû„Åó„ÅüÂü∫Êï∞„Å´ÂØæ„Åó„Å¶ÁÑ°Âäπ„Åß„Åô');
                } else {
                    setError('');
                }
            };

            // „Ç≥„Éî„ÉºÂá¶ÁêÜ
            const handleCopy = async (value, baseName) => {
                if (!value) return;
                
                try {
                    await navigator.clipboard.writeText(value);
                    setCopyMessage(`${baseName}„ÅÆÂÄ§„Çí„Ç≥„Éî„Éº„Åó„Åæ„Åó„Åü`);
                    setTimeout(() => setCopyMessage(''), 1500);
                } catch (err) {
                    setCopyMessage('„Ç≥„Éî„Éº„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
                    setTimeout(() => setCopyMessage(''), 1500);
                }
            };

            // „ÇØ„É™„Ç¢Âá¶ÁêÜ
            const handleClear = () => {
                setInputValue('');
                setError('');
            };

            // Â±•Ê≠¥ËøΩÂä†
            const addToHistory = () => {
                if (!inputValue.trim() || error) return;

                const historyItem = {
                    value: inputValue,
                    base: selectedBase,
                    timestamp: Date.now()
                };

                const newHistory = [historyItem, ...history.filter(item => 
                    !(item.value === inputValue && item.base === selectedBase)
                )].slice(0, 5);

                setHistory(newHistory);
                localStorage.setItem('baseConverterHistory', JSON.stringify(newHistory));
            };

            // Â±•Ê≠¥„Åã„ÇâË™≠„ÅøËæº„Åø
            const loadFromHistory = (item) => {
                setInputValue(item.value);
                setSelectedBase(item.base);
                setError('');
            };

            // ÂÖ•ÂäõÂÄ§„ÅåÂ§âÊõ¥„Åï„Çå„Åü„ÇâÂ±•Ê≠¥„Å´ËøΩÂä†
            useEffect(() => {
                if (inputValue && !error) {
                    const timer = setTimeout(addToHistory, 1000);
                    return () => clearTimeout(timer);
                }
            }, [inputValue, selectedBase, error]);

            return React.createElement('div', {
                className: "min-h-screen bg-gradient-to-br from-indigo-50 to-purple-100 dark:from-gray-900 dark:to-gray-800"
            }, [
                // „Éò„ÉÉ„ÉÄ„Éº
                React.createElement('header', {
                    key: 'header',
                    className: "bg-white dark:bg-gray-800 shadow-sm"
                }, 
                    React.createElement('div', {
                        className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"
                    }, [
                        React.createElement('div', {
                            key: 'nav',
                            className: "mb-4"
                        }, 
                            React.createElement('a', {
                                key: 'back',
                                href: '/',
                                className: "inline-flex items-center text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 dark:hover:text-indigo-300 transition-colors"
                            }, [
                                React.createElement('svg', {
                                    key: 'arrow',
                                    className: "w-5 h-5 mr-2",
                                    fill: "none",
                                    stroke: "currentColor",
                                    viewBox: "0 0 24 24"
                                },
                                    React.createElement('path', {
                                        strokeLinecap: "round",
                                        strokeLinejoin: "round",
                                        strokeWidth: 2,
                                        d: "M15 19l-7-7 7-7"
                                    })
                                ),
                                '„ÉÑ„Éº„É´‰∏ÄË¶ß„Å´Êàª„Çã'
                            ])
                        ),
                        React.createElement('h1', {
                            key: 'title',
                            className: "text-3xl font-bold text-gray-900 dark:text-white text-center"
                        }, [
                            React.createElement('span', {
                                key: 'icon',
                                className: "mr-3"
                            }, 'üî¢'),
                            'ÈÄ≤Êï∞Â§âÊèõ„ÉÑ„Éº„É´Ôºà2/8/10/16ÈÄ≤Êï∞Ôºâ'
                        ]),
                        React.createElement('p', {
                            key: 'subtitle',
                            className: "text-center text-gray-600 dark:text-gray-300 mt-2"
                        }, '2ÈÄ≤Êï∞„Éª8ÈÄ≤Êï∞„Éª10ÈÄ≤Êï∞„Éª16ÈÄ≤Êï∞„ÅÆÁõ∏‰∫íÂ§âÊèõ')
                    ])
                ),

                // „É°„Ç§„É≥
                React.createElement('main', {
                    key: 'main',
                    className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"
                }, [
                    // Â§âÊèõ„Ç®„É™„Ç¢
                    React.createElement('div', {
                        key: 'converter',
                        className: "bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mb-6"
                    }, [
                        React.createElement('div', {
                            key: 'converter-grid',
                            className: "grid grid-cols-1 lg:grid-cols-2 gap-8"
                        }, [
                            // ÂÖ•Âäõ„Ç®„É™„Ç¢
                            React.createElement('div', {
                                key: 'input-area'
                            }, [
                                React.createElement('h2', {
                                    key: 'input-title',
                                    className: "text-xl font-semibold text-gray-800 dark:text-white mb-6"
                                }, 'ÂÖ•Âäõ'),

                                // Âü∫Êï∞ÈÅ∏Êäû
                                React.createElement('div', {
                                    key: 'base-select-container',
                                    className: "mb-4"
                                }, [
                                    React.createElement('label', {
                                        key: 'base-label',
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
                                    }, 'Âü∫Êï∞'),
                                    React.createElement('select', {
                                        key: 'base-select',
                                        value: selectedBase,
                                        onChange: handleBaseChange,
                                        className: "w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
                                    }, 
                                        bases.map(base =>
                                            React.createElement('option', {
                                                key: base.value,
                                                value: base.value
                                            }, `${base.label} (${base.name})`)
                                        )
                                    )
                                ]),

                                // Êï∞ÂÄ§ÂÖ•Âäõ
                                React.createElement('div', {
                                    key: 'value-input-container',
                                    className: "mb-4"
                                }, [
                                    React.createElement('label', {
                                        key: 'value-label',
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
                                    }, 'Êï∞ÂÄ§'),
                                    React.createElement('input', {
                                        key: 'value-input',
                                        type: "text",
                                        value: inputValue,
                                        onChange: handleInputChange,
                                        placeholder: `${bases.find(b => b.value === selectedBase)?.label}„ÅßÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ`,
                                        className: `w-full p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent font-mono text-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${error ? 'border-red-500 dark:border-red-400' : 'border-gray-300 dark:border-gray-600'}`
                                    })
                                ]),

                                // „Ç®„É©„ÉºË°®Á§∫
                                error && React.createElement('div', {
                                    key: 'error',
                                    className: "mb-4 text-red-600 dark:text-red-400 text-sm"
                                }, error),

                                // „ÇØ„É™„Ç¢„Éú„Çø„É≥
                                React.createElement('button', {
                                    key: 'clear-btn',
                                    onClick: handleClear,
                                    className: "w-full px-4 py-2 bg-gray-600 text-white font-medium rounded-lg hover:bg-gray-700 dark:bg-gray-700 dark:hover:bg-gray-600 transition-colors duration-200"
                                }, '„ÇØ„É™„Ç¢')
                            ]),

                            // ÁµêÊûú„Ç®„É™„Ç¢
                            React.createElement('div', {
                                key: 'result-area'
                            }, [
                                React.createElement('h2', {
                                    key: 'result-title',
                                    className: "text-xl font-semibold text-gray-800 dark:text-white mb-6"
                                }, 'Â§âÊèõÁµêÊûú'),

                                React.createElement('div', {
                                    key: 'results-table',
                                    className: "overflow-hidden rounded-lg border border-gray-200 dark:border-gray-600"
                                }, [
                                    // „ÉÜ„Éº„Éñ„É´„Éò„ÉÉ„ÉÄ„Éº
                                    React.createElement('div', {
                                        key: 'table-header',
                                        className: "bg-gray-50 dark:bg-gray-700 grid grid-cols-3 gap-4 p-4 text-sm font-medium text-gray-700 dark:text-gray-300"
                                    }, [
                                        React.createElement('div', { key: 'h1' }, 'Âü∫Êï∞'),
                                        React.createElement('div', { key: 'h2' }, 'ÂÄ§'),
                                        React.createElement('div', { key: 'h3', className: "text-center" }, '„Ç≥„Éî„Éº')
                                    ]),

                                    // „ÉÜ„Éº„Éñ„É´Ë°å
                                    ...convertedValues.map((base, index) =>
                                        React.createElement('div', {
                                            key: base.value,
                                            className: `grid grid-cols-3 gap-4 p-4 border-t border-gray-200 dark:border-gray-600 ${index % 2 === 0 ? 'bg-white dark:bg-gray-800' : 'bg-gray-50 dark:bg-gray-700'}`
                                        }, [
                                            React.createElement('div', {
                                                key: 'base-name',
                                                className: "text-sm font-medium text-gray-700 dark:text-gray-300"
                                            }, base.label),
                                            React.createElement('div', {
                                                key: 'base-value',
                                                className: "font-mono text-sm text-gray-900 dark:text-white break-all"
                                            }, base.convertedValue || (inputValue && !error ? 'ÁÑ°Âäπ„Å™ÂÖ•Âäõ' : '-')),
                                            React.createElement('div', {
                                                key: 'copy-btn-container',
                                                className: "text-center"
                                            }, 
                                                base.convertedValue && React.createElement('button', {
                                                    onClick: () => handleCopy(base.convertedValue, base.label),
                                                    className: "p-2 text-gray-500 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-400 transition-colors"
                                                },
                                                    React.createElement('svg', {
                                                        className: "w-4 h-4",
                                                        fill: "none",
                                                        stroke: "currentColor",
                                                        viewBox: "0 0 24 24"
                                                    },
                                                        React.createElement('path', {
                                                            strokeLinecap: "round",
                                                            strokeLinejoin: "round",
                                                            strokeWidth: 2,
                                                            d: "M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                                                        })
                                                    )
                                                )
                                            )
                                        ])
                                    )
                                ])
                            ])
                        ])
                    ]),

                    // Â±•Ê≠¥„Çª„ÇØ„Ç∑„Éß„É≥
                    history.length > 0 && React.createElement('div', {
                        key: 'history-section',
                        className: "bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mb-6"
                    }, [
                        React.createElement('h2', {
                            key: 'history-title',
                            className: "text-xl font-semibold text-gray-800 dark:text-white mb-4"
                        }, 'Â±•Ê≠¥ÔºàÊúÄÊñ∞5‰ª∂Ôºâ'),
                        React.createElement('div', {
                            key: 'history-grid',
                            className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"
                        },
                            history.map((item, index) =>
                                React.createElement('div', {
                                    key: index,
                                    onClick: () => loadFromHistory(item),
                                    className: "p-4 border border-gray-200 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"
                                }, [
                                    React.createElement('div', {
                                        key: 'hist-base',
                                        className: "text-sm text-gray-600 dark:text-gray-400 mb-1"
                                    }, bases.find(b => b.value === item.base)?.label),
                                    React.createElement('div', {
                                        key: 'hist-value',
                                        className: "font-mono text-lg text-gray-900 dark:text-white mb-2"
                                    }, item.value),
                                    React.createElement('div', {
                                        key: 'hist-time',
                                        className: "text-xs text-gray-500 dark:text-gray-400"
                                    }, new Date(item.timestamp).toLocaleString())
                                ])
                            )
                        )
                    ]),

                    // Èñ¢ÈÄ£„ÉÑ„Éº„É´
                    React.createElement(RelatedTools, { key: 'related-tools', currentSlug: 'base-converter' })
                ]),

                // „Éà„Éº„Çπ„Éà„É°„ÉÉ„Çª„Éº„Ç∏
                copyMessage && React.createElement('div', {
                    key: 'toast',
                    className: "fixed bottom-4 right-4 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg z-50"
                }, copyMessage)
            ]);
        };

        ReactDOM.render(React.createElement(BaseConverter), document.getElementById('root'));
    </script>
</body>
</html>